{% extends 'peliculas/base.html' %}

{% block content %}
<!-- Hero Section -->
<section class="hero">
    <div class="hero-overlay"></div>
    <div class="hero-content">
        <h1 class="hero-title">Descubre el Mundo del Cine</h1>
        <p class="hero-subtitle">Miles de pel√≠culas, rese√±as y recomendaciones personalizadas</p>
        <form action="{% url 'peliculas:buscar' %}" method="get" class="hero-search">
            <input type="text" name="q" placeholder="¬øQu√© pel√≠cula quieres ver hoy?" class="hero-search-input">
            <button type="submit" class="hero-search-btn">Buscar</button>
        </form>
    </div>
</section>

<!-- Pel√≠culas Destacadas -->
<section class="section">
    <div class="container">
        <h2 class="section-title">üåü Pel√≠culas Destacadas</h2>
        <div class="movies-grid">
            {% for pelicula in peliculas_destacadas %}
            <div class="movie-card">
                <a href="{% url 'peliculas:detalle' pelicula.id %}" class="movie-link">
                    <div class="movie-poster">
                        {% if pelicula.poster %}
                        <img src="{{ pelicula.poster }}" alt="{{ pelicula.titulo }}">
                        {% else %}
                        <div class="movie-poster-placeholder">
                            <span>üé¨</span>
                        </div>
                        {% endif %}
                        <div class="movie-rating">
                            ‚≠ê {{ pelicula.calificacion_promedio|floatformat:1 }}
                        </div>
                    </div>
                    <div class="movie-info">
                        <h3 class="movie-title">{{ pelicula.titulo }}</h3>
                        <p class="movie-year">{{ pelicula.a√±o }}</p>
                        <div class="movie-genres">
                            {% for genero in pelicula.generos.all|slice:":2" %}
                            <span class="genre-tag">{{ genero.nombre }}</span>
                            {% endfor %}
                        </div>
                    </div>
                </a>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Pel√≠culas Recientes -->
<section class="section section-alt">
    <div class="container">
        <h2 class="section-title">üÜï Agregadas Recientemente</h2>
        <div class="movies-grid">
            {% for pelicula in peliculas_recientes %}
            <div class="movie-card">
                <a href="{% url 'peliculas:detalle' pelicula.id %}" class="movie-link">
                    <div class="movie-poster">
                        {% if pelicula.poster %}
                        <img src="{{ pelicula.poster }}" alt="{{ pelicula.titulo }}">
                        {% else %}
                        <div class="movie-poster-placeholder">
                            <span>üé¨</span>
                        </div>
                        {% endif %}
                        <div class="movie-rating">
                            ‚≠ê {{ pelicula.calificacion_promedio|floatformat:1 }}
                        </div>
                    </div>
                    <div class="movie-info">
                        <h3 class="movie-title">{{ pelicula.titulo }}</h3>
                        <p class="movie-year">{{ pelicula.a√±o }}</p>
                        <div class="movie-genres">
                            {% for genero in pelicula.generos.all|slice:":2" %}
                            <span class="genre-tag">{{ genero.nombre }}</span>
                            {% endfor %}
                        </div>
                    </div>
                </a>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- G√©neros -->
<section class="section">
    <div class="container">
        <h2 class="section-title">üé≠ Explora por G√©nero</h2>
        <div class="genres-grid">
            {% for genero in generos %}
            <a href="{% url 'peliculas:por_genero' genero.id %}" class="genre-card">
                <h3>{{ genero.nombre }}</h3>
                <p>{{ genero.peliculas.count }} pel√≠culas</p>
            </a>
            {% endfor %}
        </div>
    </div>
</section>
{% endblock %}